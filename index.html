<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Crypto-Recovery</title>
  <link href="https://fonts.googleapis.com/css?family=Inter:400,600,700&display=swap" rel="stylesheet">
  <style>
    :root {
      --binance-yellow: #f0b90b;
      --binance-black: #181a20;
      --binance-blue: #1e2633;
      --input-bg: #23272f;
      --success: #00ffcc;
      --danger: #ff5252;
      --modal-bg: #101217d9;
    }
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      background: var(--binance-black);
    }
    body {
      min-height: 100vh;
      font-family: 'Inter', 'Segoe UI', Arial, sans-serif;
      color: #fff;
      display: flex;
      justify-content: center;
      align-items: flex-start;
    }
    .app-frame {
      width: 100vw;
      max-width: 420px;
      min-height: 100vh;
      background: var(--binance-blue);
      border-radius: 24px 24px 0 0;
      box-shadow: 0 4px 38px 2px #0007;
      display: flex;
      flex-direction: column;
      align-items: stretch;
      position: relative;
      overflow-x: hidden;
      overflow-y: auto;
      border: 1.5px solid #262a33;
      box-sizing: border-box;
    }
    .app-topbar {
      padding: 30px 0 10px 0;
      text-align: center;
      font-weight: 700;
      font-size: 1.3em;
      color: var(--binance-yellow);
      letter-spacing: 0.03em;
      background: transparent;
    }
    .container {
      width: 100%;
      max-width: 100%;
      margin: 0 auto;
      padding: 0 20px 20px 20px;
      box-sizing: border-box;
    }
    .reg-card {
      background: var(--input-bg);
      border-radius: 16px;
      padding: 28px 16px 14px;
      margin-top: 30px;
      box-shadow: 0 2px 12px #0002;
      max-width: 100%;
    }
    .reg-card h2 {
      text-align: center;
      font-weight: 700;
      color: var(--binance-yellow);
      letter-spacing: 0.01em;
      margin-bottom: 1em;
      margin-top: 0.2em;
    }
    input, select {
      width: 100%;
      padding: 14px 15px;
      margin: 12px 0;
      border: none;
      border-radius: 7px;
      font-size: 1em;
      font-family: inherit;
      outline: none;
      background: var(--input-bg);
      color: #fff;
      box-sizing: border-box;
      transition: background 0.2s;
    }
    button {
      width: 100%;
      padding: 16px 0;
      margin: 10px 0;
      background: var(--binance-yellow);
      color: #181a20;
      font-weight: 800;
      font-size: 1.17em;
      letter-spacing: 0.04em;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      box-shadow: 0 1px 3px #0002;
      transition: background 0.18s;
    }
    button:disabled {
      background: #999;
      cursor: not-allowed;
    }
    .hidden {
      display: none !important;
    }
    /* Scan Loader */
    .scan-card {
      background: var(--input-bg);
      border-radius: 16px;
      padding: 32px 16px 30px;
      margin-top: 36px;
      box-shadow: 0 2px 12px #0002;
      max-width: 100%;
      text-align: center;
      min-height: 340px;
    }
    .scan-title {
      color: var(--binance-yellow);
      font-weight: 700;
      font-size: 1.19em;
      margin-bottom: 22px;
    }
    .scan-steps {
      margin: 0 auto 13px auto;
      font-size: 1.13em;
      color: #fff;
    }
    .scan-progressbar {
      height: 8px;
      background: #181a20;
      border-radius: 5px;
      margin: 30px auto 0;
      width: 100%;
      max-width: 260px;
      overflow: hidden;
    }
    .scan-progress {
      height: 8px;
      background: linear-gradient(90deg, #f0b90b 20%, #ffd900 98%);
      border-radius: 5px;
      width: 0;
      transition: width 0.35s cubic-bezier(.29,1.24,.47,1);
    }
    .scan-timer {
      margin-top: 18px;
      color: #f0b90b;
      font-size: 1.1em;
      font-weight: 600;
      letter-spacing: 0.03em;
    }
    .scan-success {
      color: var(--success);
      font-weight: bold;
      font-size: 1.16em;
      margin-top: 28px;
    }
    /* Dashboard */
    .wallet-dashboard {
      margin-top: 18px;
      display: flex;
      flex-direction: column;
      align-items: stretch;
      min-height: 560px;
    }
    .holdings-card {
      background: linear-gradient(135deg, #262a33 60%, #f0b90b16 100%);
      border-radius: 13px;
      padding: 28px 12px 16px;
      margin: 0 0 24px 0;
      box-shadow: 0 2px 24px #0002;
      text-align: center;
      position: relative;
    }
    .holdings-title {
      font-size: 1.12em;
      color: #bbb;
      margin-bottom: 0.45em;
      font-weight: 500;
      letter-spacing: 0.03em;
    }
    .holdings-amount {
      font-size: 2.1em;
      color: var(--binance-yellow);
      font-weight: 700;
      margin-bottom: 0.2em;
      letter-spacing: 0.03em;
      text-shadow: 0 1px 0 #fff2, 0 2px 8px #f0b90b12;
    }
    .dashboard-welcome {
      text-align: center;
      color: #fff;
      font-weight: 600;
      font-size: 1.13em;
      letter-spacing: 0.02em;
      margin-bottom: 22px;
      margin-top: 0;
    }
    .withdraw-btn {
      width: 100%;
      padding: 17px 0;
      background: var(--binance-yellow);
      color: #181a20;
      font-weight: 800;
      border-radius: 10px;
      font-size: 1.18em;
      margin-top: 12px;
      cursor: pointer;
      outline: none;
      border: none;
      transition: background 0.18s, box-shadow 0.2s;
      box-shadow: 0 2px 8px #0002;
      letter-spacing: 0.04em;
      border: 2.5px solid #f7c948;
    }
    .withdraw-btn:hover { background: #ffd700; box-shadow:0 4px 18px #f0b90b36;}
    /* Responsive */
    @media (max-width: 480px) {
      .app-frame { max-width: 100vw; border-radius: 0; }
      .container { padding: 0 5vw 18px 5vw;}
      .modal { min-width: 98vw; }
      .holdings-card { padding: 19px 4vw 12px;}
    }
    @media (max-width: 370px) {
      .modal { min-width: 99vw; padding-left: 2vw; padding-right: 2vw;}
    }
  </style>
</head>
<body>
  <div class="app-frame">
    <div class="app-topbar">Crypto Recovery</div>
    <div class="container">
      <!-- Registration -->
      <div id="registration" class="reg-card">
        <h2>Recovery Registration</h2>
        <select id="country">
          <option value="">Select Country</option>
          <option value="USA">USA</option>
          <option value="UK">UK</option>
          <option value="Nigeria">Nigeria</option>
        </select>
        <input type="text" id="name" placeholder="Full Name" autocomplete="name"/>
        <input type="text" id="usdt" placeholder="USDT Address" autocomplete="off"/>
        <input type="email" id="email" placeholder="Email Address" autocomplete="email"/>
        <button class="btn-main" onclick="register()">Submit</button>
      </div>
      <!-- Scan Loader -->
      <div id="scanLoader" class="scan-card hidden">
        <div class="scan-title">Recovery Scan In Progress</div>
        <div class="scan-steps" id="scanSteps">
          <div>â€¢ Checking past activities...</div>
          <div>â€¢ Generating lost funds...</div>
          <div>â€¢ Loading database...</div>
          <div>â€¢ Verifying user profile...</div>
          <div>â€¢ Completing user recovery...</div>
        </div>
        <div class="scan-progressbar"><div class="scan-progress" id="scanProgress"></div></div>
        <div class="scan-timer" id="scanTimer">30 sec</div>
        <div class="scan-success hidden" id="scanSuccess">ðŸŽ‰ Recovery Successful!</div>
      </div>
      <!-- Dashboard -->
      <div id="dashboard" class="wallet-dashboard hidden">
        <div class="holdings-card">
          <div class="holdings-title">Current Holdings</div>
          <div class="holdings-amount" id="holdingsAmount">$450,000</div>
        </div>
        <div class="dashboard-welcome" id="dashboardWelcome"></div>
        <button class="withdraw-btn" onclick="alert('Withdraw functionality is coming soon!')">Withdraw</button>
      </div>
    </div>
  </div>
  <script>
    // Elements
    const registrationDiv = document.getElementById('registration');
    const scanLoaderDiv = document.getElementById('scanLoader');
    const scanProgress = document.getElementById('scanProgress');
    const scanTimer = document.getElementById('scanTimer');
    const scanSuccess = document.getElementById('scanSuccess');
    const dashboardDiv = document.getElementById('dashboard');
    const dashboardWelcome = document.getElementById('dashboardWelcome');
    // LocalStorage Key
    const STORAGE_KEY = "binance_recovery_user";
    let username = "";

    // On load: if user registered, show dashboard, else registration
    document.addEventListener("DOMContentLoaded", () => {
      const user = localStorage.getItem(STORAGE_KEY);
      if (user) {
        showDashboard();
      } else {
        showRegistration();
      }
    });

    function showRegistration() {
      registrationDiv.classList.remove('hidden');
      scanLoaderDiv.classList.add('hidden');
      dashboardDiv.classList.add('hidden');
    }

    function register() {
      const country = document.getElementById('country').value.trim();
      username = document.getElementById('name').value.trim();
      const usdt = document.getElementById('usdt').value.trim();
      const email = document.getElementById('email').value.trim();
      if (!country || !username || !usdt || !email) {
        alert("Please fill all fields.");
        return;
      }
      const user = { country, username, usdt, email, hasRunScan: false };
      localStorage.setItem(STORAGE_KEY, JSON.stringify(user));
      startScan();
    }

    function startScan() {
      registrationDiv.classList.add('hidden');
      scanLoaderDiv.classList.remove('hidden');
      dashboardDiv.classList.add('hidden');
      runScanLoading();
    }

    function runScanLoading() {
      let time = 30;
      scanProgress.style.width = "0%";
      scanSuccess.classList.add('hidden');
      scanTimer.textContent = `${time} sec`;
      let interval = setInterval(() => {
        time--;
        scanTimer.textContent = time > 0 ? `${time} sec` : "Completed";
        scanProgress.style.width = `${(30 - time)/30 * 100}%`;
        if (time <= 0) {
          clearInterval(interval);
          scanSuccess.classList.remove('hidden');
          // Save that scan is complete so user never sees this again
          let user = JSON.parse(localStorage.getItem(STORAGE_KEY));
          user.hasRunScan = true;
          localStorage.setItem(STORAGE_KEY, JSON.stringify(user));
          setTimeout(showDashboard, 1800);
        }
      }, 1000);
    }

    function showDashboard() {
      scanLoaderDiv.classList.add('hidden');
      registrationDiv.classList.add('hidden');
      dashboardDiv.classList.remove('hidden');
      let user = {};
      try { user = JSON.parse(localStorage.getItem(STORAGE_KEY)) || {}; } catch{}
      dashboardWelcome.textContent = user.username ? `Welcome, ${user.username}!` : "";
    }
  </script>
</body>
</html>
